export const createAnonPostCode = ({ prewrap, hostUrl }: {prewrap: boolean; hostUrl: string}) => ({ HTML: prewrap ? `<pre style="white-space: pre-wrap" class="shiki" style="background-color: #292D3E"><code><span class="line"><span style="color: #A6ACCD">m </span><span style="color: #89DDFF">=</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF; font-style: italic">await</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">import</span><span style="color: #A6ACCD">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">${hostUrl}/utils/utils-BXDNG4XM.js</span><span style="color: #89DDFF">&quot;</span><span style="color: #A6ACCD">)</span><span style="color: #89DDFF">;</span></span>
<span class="line"><span style="color: #676E95; font-style: italic">// If your site has CSS in JS, use this</span></span>
<span class="line"><span style="color: #A6ACCD">m</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">serializeCSSInJSStyles</span><span style="color: #A6ACCD">(document)</span><span style="color: #89DDFF">;</span></span>
<span class="line"><span style="color: #A6ACCD">response </span><span style="color: #89DDFF">=</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF; font-style: italic">await</span><span style="color: #A6ACCD"> </span><span style="color: #82AAFF">fetch</span><span style="color: #A6ACCD">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">${hostUrl}/api/upload</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">{</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #F07178">method</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">POST</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #F07178">headers</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">{</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #F07178">Content-Type</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">application/json</span><span style="color: #89DDFF">&quot;</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">},</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #F07178">body</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> JSON</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">stringify</span><span style="color: #A6ACCD">(</span><span style="color: #89DDFF">{</span></span>
<span class="line"><span style="color: #A6ACCD">       </span><span style="color: #F07178">html</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> document</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">documentElement</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">outerHTML</span><span style="color: #89DDFF">,</span></span>
<span class="line"><span style="color: #89DDFF">       </span><span style="color: #676E95; font-style: italic">// You can change this to your own post title</span></span>
<span class="line"><span style="color: #A6ACCD">       </span><span style="color: #F07178">title</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> document</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">title</span><span style="color: #89DDFF">,</span></span>
<span class="line"><span style="color: #89DDFF">       </span><span style="color: #676E95; font-style: italic">// query parameters/URL fragments are ignored</span></span>
<span class="line"><span style="color: #A6ACCD">       </span><span style="color: #F07178">url</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> window</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">location</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">href</span><span style="color: #89DDFF">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #89DDFF">}</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #89DDFF">}</span><span style="color: #A6ACCD">)</span><span style="color: #89DDFF">;</span></span>
<span class="line"><span style="color: #89DDFF; font-style: italic">await</span><span style="color: #A6ACCD"> response</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">json</span><span style="color: #A6ACCD">()</span><span style="color: #89DDFF">;</span></span></code></pre>` : `<pre class="shiki" style="background-color: #292D3E"><code><span class="line"><span style="color: #A6ACCD">m </span><span style="color: #89DDFF">=</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF; font-style: italic">await</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">import</span><span style="color: #A6ACCD">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">${hostUrl}/utils/utils-BXDNG4XM.js</span><span style="color: #89DDFF">&quot;</span><span style="color: #A6ACCD">)</span><span style="color: #89DDFF">;</span></span>
<span class="line"><span style="color: #676E95; font-style: italic">// If your site has CSS in JS, use this</span></span>
<span class="line"><span style="color: #A6ACCD">m</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">serializeCSSInJSStyles</span><span style="color: #A6ACCD">(document)</span><span style="color: #89DDFF">;</span></span>
<span class="line"><span style="color: #A6ACCD">response </span><span style="color: #89DDFF">=</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF; font-style: italic">await</span><span style="color: #A6ACCD"> </span><span style="color: #82AAFF">fetch</span><span style="color: #A6ACCD">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">${hostUrl}/api/upload</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">{</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #F07178">method</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">POST</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #F07178">headers</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">{</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #F07178">Content-Type</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">application/json</span><span style="color: #89DDFF">&quot;</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">},</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #F07178">body</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> JSON</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">stringify</span><span style="color: #A6ACCD">(</span><span style="color: #89DDFF">{</span></span>
<span class="line"><span style="color: #A6ACCD">       </span><span style="color: #F07178">html</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> document</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">documentElement</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">outerHTML</span><span style="color: #89DDFF">,</span></span>
<span class="line"><span style="color: #89DDFF">       </span><span style="color: #676E95; font-style: italic">// You can change this to your own post title</span></span>
<span class="line"><span style="color: #A6ACCD">       </span><span style="color: #F07178">title</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> document</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">title</span><span style="color: #89DDFF">,</span></span>
<span class="line"><span style="color: #89DDFF">       </span><span style="color: #676E95; font-style: italic">// query parameters/URL fragments are ignored</span></span>
<span class="line"><span style="color: #A6ACCD">       </span><span style="color: #F07178">url</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> window</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">location</span><span style="color: #89DDFF">.</span><span style="color: #A6ACCD">href</span><span style="color: #89DDFF">,</span></span>
<span class="line"><span style="color: #A6ACCD">  </span><span style="color: #89DDFF">}</span><span style="color: #A6ACCD">)</span></span>
<span class="line"><span style="color: #89DDFF">}</span><span style="color: #A6ACCD">)</span><span style="color: #89DDFF">;</span></span>
<span class="line"><span style="color: #89DDFF; font-style: italic">await</span><span style="color: #A6ACCD"> response</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">json</span><span style="color: #A6ACCD">()</span><span style="color: #89DDFF">;</span></span></code></pre>`, code: `m = await import("${hostUrl}/utils/utils-BXDNG4XM.js");
// If your site has CSS in JS, use this
m.serializeCSSInJSStyles(document);
response = await fetch("${hostUrl}/api/upload", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
       html: document.documentElement.outerHTML,
       // You can change this to your own post title
       title: document.title,
       // query parameters/URL fragments are ignored
       url: window.location.href,
  })
});
await response.json();` });